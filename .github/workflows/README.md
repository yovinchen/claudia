# GitHub Actions å·¥ä½œæµè¯´æ˜

æœ¬é¡¹ç›®åŒ…å«å¤šä¸ª GitHub Actions å·¥ä½œæµï¼Œé€‚ç”¨äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚

## ğŸ“‹ å·¥ä½œæµåˆ—è¡¨

### 1. `build-opensource.yml` - å¼€æºå‘å¸ƒï¼ˆæ¨èï¼‰
**ç”¨é€”**ï¼šæ­£å¼ç‰ˆæœ¬å‘å¸ƒï¼Œé€‚åˆå¼€æºé¡¹ç›®åˆ†å‘

**è§¦å‘æ¡ä»¶**ï¼š
- åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ (`v*`)
- æ‰‹åŠ¨è§¦å‘

**ç‰¹ç‚¹**ï¼š
- âœ… æ— éœ€ä»£ç ç­¾å
- âœ… è‡ªåŠ¨åˆ›å»º GitHub Release
- âœ… æ”¯æŒæ‰€æœ‰å¹³å°
- âœ… ç”Ÿæˆç”¨æˆ·å‹å¥½çš„å®‰è£…åŒ…

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# åˆ›å»ºç‰ˆæœ¬å‘å¸ƒ
git tag v1.0.0
git push origin v1.0.0
```

---

### 2. `dev-ci.yml` - å¼€å‘æµ‹è¯•
**ç”¨é€”**ï¼šPR å’Œå¼€å‘åˆ†æ”¯çš„è‡ªåŠ¨åŒ–æµ‹è¯•

**è§¦å‘æ¡ä»¶**ï¼š
- Push åˆ° `dev`, `develop`, `feature/*` åˆ†æ”¯
- åˆ›å»º PR åˆ° `main` æˆ– `dev`

**ç‰¹ç‚¹**ï¼š
- âœ… ä»£ç æ ¼å¼æ£€æŸ¥
- âœ… Clippy é™æ€åˆ†æ
- âœ… TypeScript ç±»å‹æ£€æŸ¥
- âœ… å•å…ƒæµ‹è¯•
- âœ… æ„å»ºéªŒè¯

**æ£€æŸ¥é¡¹ç›®**ï¼š
- Rust æ ¼å¼åŒ– (`cargo fmt`)
- Rust ä»£ç è´¨é‡ (`cargo clippy`)
- TypeScript ç±»å‹ (`tsc`)
- æµ‹è¯•è¿è¡Œ (`cargo test`)

---

### 3. `quick-build.yml` - å¿«é€Ÿæ„å»º
**ç”¨é€”**ï¼šå¿«é€Ÿæµ‹è¯•æ„å»ºï¼Œä¸åˆ›å»ºå‘å¸ƒ

**è§¦å‘æ¡ä»¶**ï¼š
- ä»…æ‰‹åŠ¨è§¦å‘

**ç‰¹ç‚¹**ï¼š
- âœ… å¯é€‰æ‹©ç‰¹å®šå¹³å°
- âœ… æœ€å°åŒ–é…ç½®
- âœ… å¿«é€Ÿæ„å»º
- âœ… ä¿å­˜æ„å»ºäº§ç‰© 7 å¤©

**ä½¿ç”¨æ–¹æ³•**ï¼š
1. GitHub â†’ Actions â†’ Quick Build
2. é€‰æ‹©ç›®æ ‡å¹³å°
3. ç‚¹å‡» Run workflow

---

### 4. `build.yml` - å®Œæ•´æ„å»ºï¼ˆéœ€è¦ç­¾åï¼‰
**ç”¨é€”**ï¼šéœ€è¦ä»£ç ç­¾åçš„æ­£å¼å‘å¸ƒ

**è¦æ±‚**ï¼š
- â— éœ€è¦é…ç½® Apple è¯ä¹¦
- â— éœ€è¦ GitHub Secrets

**ä¸æ¨èç”¨äº**ï¼š
- å¼€æºé¡¹ç›®
- ä¸ªäººå¼€å‘
- æ²¡æœ‰ Apple å¼€å‘è€…è´¦å·çš„æƒ…å†µ

---

### 5. `build-unsigned.yml` - æœªç­¾åæ„å»º
**ç”¨é€”**ï¼šä¸éœ€è¦ç­¾åçš„å®Œæ•´æ„å»º

**ç‰¹ç‚¹**ï¼š
- âœ… æ”¯æŒæ‰€æœ‰å¹³å°
- âœ… æ— éœ€è¯ä¹¦é…ç½®
- âš ï¸ macOS ç”¨æˆ·éœ€è¦æ‰‹åŠ¨ä¿¡ä»»

---

## ğŸ¯ æ¨èä½¿ç”¨æ–¹æ¡ˆ

### å¼€æºé¡¹ç›®
ä½¿ç”¨ **`build-opensource.yml`**ï¼š
- ç®€å•é…ç½®
- è‡ªåŠ¨å‘å¸ƒ
- ç”¨æˆ·å‹å¥½

### æ—¥å¸¸å¼€å‘
ä½¿ç”¨ **`dev-ci.yml`**ï¼š
- è‡ªåŠ¨åŒ–æµ‹è¯•
- ä»£ç è´¨é‡ä¿è¯
- PR æ£€æŸ¥

### å¿«é€Ÿæµ‹è¯•
ä½¿ç”¨ **`quick-build.yml`**ï¼š
- æ‰‹åŠ¨è§¦å‘
- é€‰æ‹©å¹³å°
- å¿«é€ŸéªŒè¯

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é¦–æ¬¡è®¾ç½®
```bash
# ç¡®ä¿å·¥ä½œæµæ–‡ä»¶å­˜åœ¨
ls -la .github/workflows/

# æ¨é€åˆ° GitHub
git add .github/
git commit -m "æ·»åŠ  GitHub Actions å·¥ä½œæµ"
git push origin main
```

### 2. åˆ›å»ºå‘å¸ƒ
```bash
# æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ src-tauri/Cargo.toml, src-tauri/tauri.conf.json, package.json

# æäº¤æ›´æ”¹
git add .
git commit -m "chore: bump version to v1.0.0"

# åˆ›å»ºæ ‡ç­¾å¹¶æ¨é€
git tag v1.0.0
git push origin v1.0.0

# å·¥ä½œæµä¼šè‡ªåŠ¨è¿è¡Œå¹¶åˆ›å»º Release Draft
```

### 3. å¼€å‘æµ‹è¯•
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# æ¨é€ä¼šè‡ªåŠ¨è§¦å‘æµ‹è¯•
git push origin feature/new-feature
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¼€æºé¡¹ç›®ä¸éœ€è¦ä»£ç ç­¾å**
   - ç”¨æˆ·éœ€è¦æ‰‹åŠ¨ä¿¡ä»»åº”ç”¨æ˜¯æ­£å¸¸çš„
   - è¿™ä¸å½±å“åº”ç”¨çš„åŠŸèƒ½

2. **æ„å»ºäº§ç‰©ä¿ç•™æ—¶é—´**
   - Release: æ°¸ä¹…ä¿å­˜
   - Artifacts: 7 å¤©åè‡ªåŠ¨åˆ é™¤

3. **å¹¶è¡Œæ„å»º**
   - æ‰€æœ‰å¹³å°åŒæ—¶æ„å»º
   - ä¸€ä¸ªå¹³å°å¤±è´¥ä¸å½±å“å…¶ä»–å¹³å°

## ğŸ”§ æ•…éšœæ’é™¤

### æ„å»ºå¤±è´¥
1. æ£€æŸ¥ Actions æ—¥å¿—
2. ç¡®è®¤ä¾èµ–ç‰ˆæœ¬æ­£ç¡®
3. æœ¬åœ°æµ‹è¯•æ„å»ºï¼š`bun run tauri build`

### Linux æ„å»ºé—®é¢˜
ç¡®ä¿å®‰è£…æ‰€æœ‰ä¾èµ–ï¼š
```bash
sudo apt-get update
sudo apt-get install -y \
  libwebkit2gtk-4.1-dev \
  libgtk-3-dev \
  libayatana-appindicator3-dev \
  librsvg2-dev
```

### Windows æ„å»ºé—®é¢˜
- ç¡®ä¿ä½¿ç”¨ Windows Server 2019 æˆ–æ›´é«˜ç‰ˆæœ¬
- æ£€æŸ¥ Visual Studio Build Tools

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Tauri æ„å»ºæ–‡æ¡£](https://tauri.app/v1/guides/building/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [é¡¹ç›® README](../../README.md)
